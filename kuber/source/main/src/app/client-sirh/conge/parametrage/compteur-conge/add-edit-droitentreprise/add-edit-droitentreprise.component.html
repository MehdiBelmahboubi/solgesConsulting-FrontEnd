<mat-card class="type-unit-edit-card">
  <mat-card-title class="type-unit-edit-title">
    <p>Ajouter Droit Entreprise:</p>
    <button class="close-btn" mat-icon-button matTooltip="Close" (click)="close()">
      <mat-icon>close</mat-icon>
    </button>
  </mat-card-title>
  <hr>
  <form class="type-unit-form" [formGroup]="formGroup">
    <mat-card-content>
      <div class="type-unit-content">
        <div class="row">
          <div class="text col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
            <p *ngIf="newTypeError" class="mt-3"><strong>{{ newTypeError }}</strong></p>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 mb-3">
            <label class="form-label mr-2">Nombre Jour:</label>
            <mat-form-field class="field-width" appearance="outline">
              <input matInput formControlName="nbJour">
            </mat-form-field>
          </div>
        </div>
        <div class="row d-flex align-items-center mb-3">
          <div class="col-xl-5 col-lg-4 col-md-4 col-sm-12 d-flex align-items-center">
            <label class="form-label mr-2">Champ de Contrainte:</label>
            <mat-form-field class="field-width" appearance="outline">
              <mat-select formControlName="champContrainte" (selectionChange)="onTypeChange($event)">
                <mat-option value="">Sélectionner ..</mat-option>
                <mat-option value="contract">Contrat</mat-option>
                <mat-option value="classification">Classification</mat-option>
                <mat-option value="uniteOrganisationnel">Unité Organisationnelle</mat-option>
                <mat-option value="typeUniteOrganisationnel">Type Unité Organisationnelle</mat-option>
                <mat-option value="sexe">Sexe</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-xl-5 col-lg-4 col-md-4 col-sm-12 d-flex align-items-center">
            <label class="form-label mr-2">Valeur de Contrainte:</label>
            <mat-form-field class="field-width" appearance="outline">
              <mat-select formControlName="valeurContrainte">
                <mat-option value=""></mat-option>
                <mat-option *ngFor="let option of filteredOptions" [value]="option.id">
                  {{ option.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-xl-2 col-lg-2 col-md-2 col-sm-12 d-flex justify-content-center">
            <button mat-icon-button (click)="addContrainte()">
              <mat-icon>add_circle</mat-icon>
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
            <div class="chip-cadre">
              <mat-chip *ngFor="let contrainte of contraintes" removable (removed)="removeContrainte(contrainte)">
                {{ contrainte.valeur }}
                <button matChipRemove>
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions class="card-actions justify-content-end">
      <button mat-raised-button class="add-type-unit" (click)="addDroit()">{{ updateMode ? 'Modifier' : 'Ajouter' }}</button>
    </mat-card-actions>
  </form>
</mat-card>
